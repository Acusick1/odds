experiment:
  name: xgboost_feature_selection_h2h
  tags:
  - xgboost
  - feature_selection
  - h2h
  - tuning
  description: 'XGBoost model with integrated feature selection and top_k_features
    tuning.

    Uses ensemble feature selection method to rank features, then tunes the

    number of features to use alongside other hyperparameters.

    '
training:
  strategy_type: xgboost_line_movement
  data:
    start_date: '2025-10-25'
    end_date: '2025-12-29'
    test_split: 0.15
    validation_split: 0.1
    random_seed: 42
    shuffle: true
    use_kfold: true
    cv_method: timeseries
    n_folds: 5
    kfold_shuffle: true
  model:
    n_estimators: 150
    max_depth: 9
    min_child_weight: 1
    learning_rate: 0.25470379918259956
    gamma: 0.0
    subsample: 0.6
    colsample_bytree: 1.0
    colsample_bylevel: 1.0
    colsample_bynode: 1.0
    reg_alpha: 0.8075338264982177
    reg_lambda: 0.30650762122285663
    objective: reg:squarederror
    random_state: 42
    n_jobs: -1
    early_stopping_rounds: 10
  features:
    sharp_bookmakers:
    - pinnacle
    retail_bookmakers:
    - fanduel
    - draftkings
    - betmgm
    markets:
    - h2h
    - spreads
    - totals
    outcome: home
    opening_tier: sharp
    closing_tier: closing
    decision_tier: pregame
    lookback_hours: 72
    timesteps: 24
    normalize: false
    feature_groups:
    - tabular
    - trajectory
    movement_threshold: 0.005
  feature_selection:
    enabled: true
    method: ensemble
    feature_names: null
    min_correlation: 0.02
    min_variance: 0.01
    n_ensemble_models: 3
    ensemble_seeds:
    - 42
    - 123
    - 456
    model_types:
    - xgboost
    - random_forest
    - extra_trees
    hybrid_filter_weight: 0.3
  min_predicted_movement: 0.02
  movement_confidence_scale: 5.0
  base_confidence: 0.52
  output_path: models
  model_name: null
tuning:
  n_trials: 1000
  timeout: null
  direction: minimize
  metric: val_mse
  pruner: median
  sampler: tpe
  search_spaces:
    n_estimators:
      type: int
      low: 50.0
      high: 300.0
      step: 50.0
      log: false
      choices: null
    max_depth:
      type: int
      low: 3.0
      high: 10.0
      step: null
      log: false
      choices: null
    learning_rate:
      type: float
      low: 0.01
      high: 0.3
      step: null
      log: true
      choices: null
    subsample:
      type: float
      low: 0.6
      high: 1.0
      step: 0.1
      log: false
      choices: null
    colsample_bytree:
      type: float
      low: 0.6
      high: 1.0
      step: 0.1
      log: false
      choices: null
    reg_alpha:
      type: float
      low: 0.0
      high: 1.0
      step: null
      log: false
      choices: null
    reg_lambda:
      type: float
      low: 0.0
      high: 2.0
      step: null
      log: false
      choices: null
    top_k_features:
      type: int
      low: 5.0
      high: 40.0
      step: 1.0
      log: false
      choices: null
tracking: null
